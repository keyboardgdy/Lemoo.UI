<Window x:Class="Lemoo.UI.WPF.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:uiChrome="clr-namespace:Lemoo.UI.Controls.Chrome;assembly=Lemoo.UI"
        xmlns:uiNav="clr-namespace:Lemoo.UI.Controls.Navigation;assembly=Lemoo.UI"
        xmlns:uiTabs="clr-namespace:Lemoo.UI.Controls.Tabs;assembly=Lemoo.UI"
        xmlns:vm="clr-namespace:Lemoo.UI.WPF.ViewModels"
        mc:Ignorable="d"
        d:DataContext="{d:DesignInstance Type=vm:MainWindowViewModel, IsDesignTimeCreatable=True}"
        Title="{Binding Title}"
        Height="800"
        Width="1400"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="CanResize"
        Background="{DynamicResource WorkbenchBackgroundBrush}"
        SnapsToDevicePixels="True"
        UseLayoutRounding="True">

    <!-- 主 Shell 窗体：使用 Lemoo.UI 中的标题栏、侧边栏、标签页控件，仅实现 UI 布局。
         DataContext 仍然在 MainWindow.xaml.cs 中通过依赖注入设置，这里不再直接 new ViewModel。 -->

    <Grid Margin="0"
          SnapsToDevicePixels="True"
          UseLayoutRounding="True">
        <Grid.RowDefinitions>
            <RowDefinition x:Name="TitleRow" Height="32" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <!-- 左侧列宽改为 Auto，使其跟随 Sidebar 控件的 Width 动画变化，从而带动右侧主区域弹性变化 -->
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- 顶部标题栏（来自 Lemoo.UI） -->
        <uiChrome:MainTitleBar x:Name="MainTitleBar"
                               Grid.Row="0"
                               Grid.ColumnSpan="2"
                               NavigateToPage="OnNavigateToPage" />

        <!-- 左侧导航（来自 Lemoo.UI） -->
        <uiNav:Sidebar x:Name="Sidebar"
                       Grid.Row="1"
                       Grid.Column="0"
                       NavigateToPage="OnNavigateToPage" />

        <!-- 右侧内容区域：标签页宿主 -->
        <Grid x:Name="DocumentHostGrid"
              Grid.Row="1"
              Grid.Column="1"
              Margin="8,8,8,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <uiTabs:DocumentTabHost x:Name="DocumentTabHost"
                                    Grid.Row="1" />
        </Grid>
    </Grid>
</Window>

