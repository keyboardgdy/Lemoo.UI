<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:ui="clr-namespace:Lemoo.UI.Controls">

    <!-- SplitView 样式 -->
    <Style x:Key="Win11.SplitViewStyle" TargetType="ui:SplitView">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{DynamicResource InputForegroundBrush}"/>
        <Setter Property="PaneBackground" Value="{DynamicResource SidebarBackgroundBrush}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ui:SplitView">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <!-- 左侧面板列 -->
                            <ColumnDefinition x:Name="PaneColumn" Width="0"/>
                            <!-- 内容列 -->
                            <ColumnDefinition Width="*"/>
                            <!-- 右侧面板列 -->
                            <ColumnDefinition x:Name="RightPaneColumn" Width="0"/>
                        </Grid.ColumnDefinitions>

                        <!-- 左侧面板 -->
                        <Border x:Name="LeftPane"
                                Grid.Column="0"
                                Background="{TemplateBinding PaneBackground}"
                                CornerRadius="{StaticResource Win11.CornerRadius.Small}"
                                Visibility="Collapsed">
                            <ContentPresenter x:Name="LeftPaneContentPresenter"
                                              Content="{TemplateBinding Pane}"/>
                        </Border>

                        <!-- 主内容 -->
                        <ContentPresenter Grid.Column="1"
                                          x:Name="ContentPresenter"
                                          Content="{TemplateBinding Content}"/>

                        <!-- 右侧面板 -->
                        <Border x:Name="RightPane"
                                Grid.Column="2"
                                Background="{TemplateBinding PaneBackground}"
                                CornerRadius="{StaticResource Win11.CornerRadius.Small}"
                                Visibility="Collapsed">
                            <ContentPresenter x:Name="RightPaneContentPresenter"
                                              Content="{TemplateBinding Pane}"/>
                        </Border>

                        <!-- 遮罩层 -->
                        <Rectangle x:Name="OverlayLayer"
                                   Grid.Column="1"
                                   Fill="{DynamicResource ShadowColorBrush}"
                                   Opacity="0"
                                   IsHitTestVisible="False"/>
                    </Grid>

                    <ControlTemplate.Triggers>
                        <!-- 左侧面板 - 打开状态 -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="PanePlacement" Value="Left"/>
                                <Condition Property="IsPaneOpen" Value="True"/>
                            </MultiTrigger.Conditions>
                            <MultiTrigger.Setters>
                                <Setter TargetName="LeftPane" Property="Visibility" Value="Visible"/>
                            </MultiTrigger.Setters>
                        </MultiTrigger>

                        <!-- 右侧面板 - 打开状态 -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="PanePlacement" Value="Right"/>
                                <Condition Property="IsPaneOpen" Value="True"/>
                            </MultiTrigger.Conditions>
                            <MultiTrigger.Setters>
                                <Setter TargetName="RightPane" Property="Visibility" Value="Visible"/>
                            </MultiTrigger.Setters>
                        </MultiTrigger>

                        <!-- 覆盖模式 -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="DisplayMode" Value="Overlay"/>
                                <Condition Property="IsPaneOpen" Value="True"/>
                            </MultiTrigger.Conditions>
                            <MultiTrigger.Setters>
                                <Setter TargetName="OverlayLayer" Property="Opacity" Value="0.5"/>
                                <Setter TargetName="OverlayLayer" Property="IsHitTestVisible" Value="True"/>
                            </MultiTrigger.Setters>
                        </MultiTrigger>

                        <!-- 紧凑覆盖模式 -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="DisplayMode" Value="CompactOverlay"/>
                                <Condition Property="IsPaneOpen" Value="True"/>
                            </MultiTrigger.Conditions>
                            <MultiTrigger.Setters>
                                <Setter TargetName="OverlayLayer" Property="Opacity" Value="0.3"/>
                                <Setter TargetName="OverlayLayer" Property="IsHitTestVisible" Value="True"/>
                            </MultiTrigger.Setters>
                        </MultiTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 默认样式 -->
    <Style TargetType="ui:SplitView" BasedOn="{StaticResource Win11.SplitViewStyle}"/>

</ResourceDictionary>
