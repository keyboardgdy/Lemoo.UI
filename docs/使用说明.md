# Lemoo 项目使用说明

> 版本：1.0.0  
> 更新日期：2025年1月  
> .NET 版本：10.0

## 目录

- [1. 项目简介](#1-项目简介)
- [2. 系统要求](#2-系统要求)
- [3. 安装与配置](#3-安装与配置)
- [4. 快速开始](#4-快速开始)
- [5. 详细使用说明](#5-详细使用说明)
- [6. 配置说明](#6-配置说明)
- [7. 模块开发指南](#7-模块开发指南)
- [8. API 使用](#8-api-使用)
- [9. UI 界面使用](#9-ui-界面使用)
- [10. 常见问题](#10-常见问题)
- [11. 故障排除](#11-故障排除)
- [12. 参考资源](#12-参考资源)

---

## 1. 项目简介

### 1.1 什么是 Lemoo？

**Lemoo** 是一个基于 .NET 10 的专业模块化架构框架，采用以下核心设计理念：

- **领域驱动设计（DDD）**：通过领域模型表达业务逻辑
- **命令查询职责分离（CQRS）**：分离读写操作，提高系统可扩展性
- **插件式架构**：支持动态模块加载和热插拔
- **分层架构**：清晰的分层设计，职责明确

### 1.2 核心特性

1. **插件式模块系统**
   - 动态模块发现和加载
   - 模块依赖管理和拓扑排序
   - 循环依赖检测
   - 模块生命周期管理

2. **每个模块独立的数据库上下文**
   - 模块数据隔离
   - 支持多种数据库提供程序（SQL Server、PostgreSQL、SQLite、InMemory）
   - 独立连接字符串配置

3. **本地与API模式统一**
   - 通过配置切换部署模式
   - 统一的服务接口抽象
   - 支持本地直接调用和HTTP API调用

4. **高可用性设计**
   - 异步处理
   - 完善的错误处理
   - 结构化日志记录（Serilog）
   - 性能监控

5. **现代化UI框架**
   - WPF 桌面应用
   - MVVM 模式（CommunityToolkit.Mvvm）
   - 主题系统（支持明暗主题切换）
   - 模块化UI组件

### 1.3 技术栈

| 技术                                       | 版本/说明      | 用途       |
| ---------------------------------------- | ---------- | -------- |
| .NET                                     | 10.0 (LTS) | 运行时框架    |
| C#                                       | 13         | 编程语言     |
| WPF                                      | -          | 桌面应用UI框架 |
| CommunityToolkit.Mvvm                    | 8.4.0      | MVVM框架   |
| Microsoft.Extensions.Hosting             | 10.0.1     | 应用程序宿主   |
| Microsoft.Extensions.DependencyInjection | 10.0.1     | 依赖注入     |
| MediatR                                  | -          | 中介者模式实现  |
| EF Core                                  | -          | ORM框架    |
| FluentValidation                         | -          | 验证框架     |
| Serilog                                  | -          | 结构化日志    |
| Swagger/OpenAPI                          | -          | API文档    |

---

## 2. 系统要求

### 2.1 开发环境要求

- **操作系统**：Windows 10/11、Linux、macOS
- **.NET SDK**：.NET 10.0 或更高版本
- **开发工具**：
  - Visual Studio 2022（推荐）或
  - Visual Studio Code + C# 扩展
- **数据库**（可选）：
  - SQL Server 2019 或更高版本
  - PostgreSQL 12 或更高版本
  - SQLite 3.x

### 2.2 运行时要求

- **.NET Runtime**：.NET 10.0 或更高版本
- **Windows**：Windows 10/11（用于WPF应用）
- **内存**：建议 4GB 或更多
- **磁盘空间**：至少 500MB 可用空间

---

## 3. 安装与配置

### 3.1 获取项目

#### 方式一：克隆仓库

```bash
git clone <repository-url>
cd Lemoo
```

#### 方式二：下载压缩包

下载项目压缩包并解压到本地目录。

### 3.2 还原依赖

```bash
# 在项目根目录执行
dotnet restore
```

### 3.3 配置数据库

编辑 `src/Lemoo.Host/appsettings.json` 文件，配置数据库连接字符串：

```json
{
  "ConnectionStrings": {
    "Example": "Server=localhost;Database=Lemoo_Example;Trusted_Connection=true;TrustServerCertificate=true;"
  },
  "Lemoo": {
    "Database": {
      "Provider": "SqlServer",
      "ConnectionStrings": {
        "Example": "Server=localhost;Database=Lemoo_Example;Trusted_Connection=true;TrustServerCertificate=true;"
      }
    }
  }
}
```

**支持的数据库提供程序：**

- `SqlServer` - SQL Server
- `PostgreSQL` - PostgreSQL
- `SQLite` - SQLite
- `InMemory` - 内存数据库（用于测试）

**连接字符串示例：**

```json
// SQL Server
"Server=localhost;Database=Lemoo_Example;Trusted_Connection=true;TrustServerCertificate=true;"

// PostgreSQL
"Host=localhost;Database=Lemoo_Example;Username=postgres;Password=password"

// SQLite
"Data Source=Lemoo_Example.db"
```

### 3.4 配置模块

在 `appsettings.json` 中配置要加载的模块：

```json
{
  "Lemoo": {
    "Modules": {
      "Enabled": [ "*" ],  // "*" 表示加载所有模块，或指定模块名称数组
      "Path": "./Modules",  // 模块程序集存放路径
      "AutoLoad": true,     // 是否自动加载
      "HotReload": false    // 是否支持热重载
    }
  }
}
```

---

## 4. 快速开始

### 4.1 运行 WPF 应用

```bash
# 进入宿主项目目录
cd src/Hosts/Lemoo.Host

# 运行应用
dotnet run
```

应用启动后，将显示主窗口界面。

### 4.2 运行 API 服务

```bash
# 进入API项目目录
cd src/Hosts/Lemoo.Api

# 运行API服务
dotnet run
```

API服务启动后，访问以下地址：

- **Swagger UI**：`https://localhost:5001/swagger`
- **健康检查**：`https://localhost:5001/health`
- **性能指标**：`https://localhost:5001/api/metrics`

### 4.3 运行测试

```bash
# 在项目根目录执行
dotnet test
```

---

## 5. 详细使用说明

### 5.1 项目结构

```
Lemoo/
├── src/                          # 源代码目录
│   ├── Core/                     # 核心层
│   │   ├── Lemoo.Core.Abstractions/    # 核心抽象
│   │   ├── Lemoo.Core.Domain/           # 领域核心
│   │   ├── Lemoo.Core.Application/      # 应用核心
│   │   ├── Lemoo.Core.Infrastructure/   # 基础设施
│   │   └── Lemoo.Core.Common/           # 通用能力
│   ├── Modules/                  # 模块层
│   │   ├── Lemoo.Modules.Abstractions/  # 模块抽象
│   │   └── [业务模块]/                  # 业务子域
│   ├── Hosts/                    # 宿主层
│   │   ├── Lemoo.Bootstrap/             # 启动引导
│   │   ├── Lemoo.Host/                  # WPF宿主应用
│   │   └── Lemoo.Api/                   # Web API宿主
│   └── UI/                       # UI层
│       ├── Lemoo.UI/                    # UI组件库
│       ├── Lemoo.UI.Shared/             # UI共享组件
│       └── Lemoo.UI.WPF/                # WPF应用程序
├── tests/                        # 测试项目
├── docs/                         # 文档目录
└── README.md                     # 项目说明
```

### 5.2 应用程序启动流程

1. **初始化主题系统**：在创建任何窗口之前初始化主题管理器
2. **构建配置**：加载 `appsettings.json` 和环境变量
3. **创建 Host Builder**：配置应用程序服务
4. **执行引导**：运行 Bootstrapper 进行启动前检查
5. **启动模块**：按依赖顺序启动所有已启用的模块
6. **显示主窗口**：初始化并显示主窗口界面

### 5.3 模块加载机制

1. **模块发现**：从配置的模块路径或程序集引用中发现模块
2. **依赖解析**：分析模块依赖关系
3. **拓扑排序**：按依赖顺序排序模块
4. **循环检测**：检测并报告循环依赖
5. **模块注册**：注册模块服务和数据库上下文
6. **生命周期启动**：调用模块的启动生命周期方法

---

## 6. 配置说明

### 6.1 appsettings.json 完整配置示例

```json
{
  "ConnectionStrings": {
    "Example": "Server=localhost;Database=Lemoo_Example;Trusted_Connection=true;TrustServerCertificate=true;"
  },
  "Lemoo": {
    "Mode": "Local",  // 部署模式：Local 或 Api
    "Modules": {
      "Enabled": [ "*" ],  // 启用的模块列表，["*"] 表示所有模块
      "Path": "./Modules",  // 模块程序集路径
      "AutoLoad": true,     // 自动加载模块
      "HotReload": false    // 热重载支持
    },
    "Database": {
      "Provider": "SqlServer",  // 数据库提供程序
      "AutoMigrate": true,       // 自动迁移数据库
      "ConnectionStrings": {
        "Example": "Server=localhost;Database=Lemoo_Example;..."
      },
      "EnableSensitiveDataLogging": false,  // 是否启用敏感数据日志
      "CommandTimeout": 30,                  // 命令超时时间（秒）
      "MaxRetryCount": 5                     // 最大重试次数
    },
    "Api": {
      "BaseUrl": "https://api.example.com",  // API基础URL（Api模式）
      "Timeout": 30,                          // 请求超时时间（秒）
      "RetryPolicy": {
        "MaxRetries": 3,                      // 最大重试次数
        "BackoffType": "Exponential"         // 退避策略类型
      }
    },
    "Caching": {
      "Provider": "Memory",                  // 缓存提供程序：Memory 或 Redis
      "DefaultExpiration": "00:05:00",       // 默认过期时间
      "Redis": {
        "ConnectionString": "localhost:6379"  // Redis连接字符串
      }
    },
    "Logging": {
      "Level": "Information",                // 日志级别
      "Seq": {
        "ServerUrl": "http://localhost:5341" // Seq日志服务器URL
      }
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "System": "Warning"
    }
  }
}
```

### 6.2 环境变量配置

可以通过环境变量覆盖配置：

```bash
# Windows PowerShell
$env:Lemoo__Mode="Api"
$env:Lemoo__Database__Provider="PostgreSQL"

# Linux/macOS
export Lemoo__Mode="Api"
export Lemoo__Database__Provider="PostgreSQL"
```

### 6.3 部署模式

#### Local 模式（本地模式）

- 直接调用模块服务
- 无需网络连接
- 适合单机应用

#### Api 模式（API模式）

- 通过HTTP API调用服务
- 支持分布式部署
- 适合多客户端场景

切换模式：

```json
{
  "Lemoo": {
    "Mode": "Api",  // 或 "Local"
    "Api": {
      "BaseUrl": "https://api.example.com"
    }
  }
}
```

---

## 7. 模块开发指南

### 7.1 创建新模块

#### 步骤 1：创建项目

```bash
cd src/Modules
dotnet new classlib -n Lemoo.Modules.YourModule -f net10.0
```

#### 步骤 2：添加项目引用

```bash
cd Lemoo.Modules.YourModule
dotnet add reference ../Lemoo.Modules.Abstractions/Lemoo.Modules.Abstractions.csproj
dotnet add reference ../../Core/Lemoo.Core.Application/Lemoo.Core.Application.csproj
dotnet add reference ../../Core/Lemoo.Core.Domain/Lemoo.Core.Domain.csproj
```

#### 步骤 3：添加 NuGet 包

```bash
dotnet add package MediatR
dotnet add package FluentValidation
dotnet add package Microsoft.EntityFrameworkCore.SqlServer
dotnet add package Mapster
```

#### 步骤 4：实现模块类

```csharp
using Lemoo.Modules.Abstractions;
using Microsoft.EntityFrameworkCore;
using Microsoft.Extensions.Configuration;
using Microsoft.Extensions.DependencyInjection;

namespace Lemoo.Modules.YourModule;

public class YourModule : ModuleBase
{
    public override string Name => "YourModule";
    public override string Version => "1.0.0";
    public override string Description => "您的业务模块描述";
    
    public override IReadOnlyList<string> Dependencies => Array.Empty<string>();
    
    public override void ConfigureServices(IServiceCollection services, IConfiguration configuration)
    {
        // 注册数据库上下文
        var connectionString = configuration.GetConnectionString("YourModule");
        services.AddDbContext<YourModuleDbContext>(options =>
        {
            options.UseSqlServer(connectionString);
        });
        
        // 注册仓储
        services.AddScoped<IYourEntityRepository, YourEntityRepository>();
        
        // 注册MediatR
        services.AddMediatR(cfg =>
        {
            cfg.RegisterServicesFromAssembly(typeof(YourModule).Assembly);
        });
        
        // 注册FluentValidation
        services.AddValidatorsFromAssembly(typeof(YourModule).Assembly);
    }
    
    public override void ConfigureDbContext(DbContextOptionsBuilder optionsBuilder, IConfiguration configuration)
    {
        var connectionString = configuration.GetConnectionString("YourModule");
        optionsBuilder.UseSqlServer(connectionString);
    }
}
```

### 7.2 模块结构

```
Lemoo.Modules.YourModule/
├── Domain/                      # 领域层
│   ├── Entities/               # 实体
│   │   └── YourEntity.cs
│   ├── ValueObjects/           # 值对象
│   ├── DomainEvents/           # 领域事件
│   │   └── YourEntityCreatedEvent.cs
│   └── Interfaces/             # 领域接口
├── Application/                 # 应用层
│   ├── Commands/               # 命令
│   │   ├── CreateYourEntityCommand.cs
│   │   └── UpdateYourEntityCommand.cs
│   ├── Queries/                # 查询
│   │   ├── GetYourEntityQuery.cs
│   │   └── GetAllYourEntitiesQuery.cs
│   ├── DTOs/                   # 数据传输对象
│   │   └── YourEntityDto.cs
│   ├── Validators/             # FluentValidation验证器
│   │   └── CreateYourEntityCommandValidator.cs
│   └── Handlers/               # 命令/查询处理器
│       ├── CreateYourEntityCommandHandler.cs
│       └── GetYourEntityQueryHandler.cs
├── Infrastructure/              # 基础设施层
│   ├── Persistence/            # 持久化
│   │   ├── YourModuleDbContext.cs
│   │   └── Configurations/
│   │       └── YourEntityConfiguration.cs
│   └── Repositories/           # 仓储实现
│       └── YourEntityRepository.cs
└── YourModule.cs               # 模块定义
```

### 7.3 定义领域模型

```csharp
using Lemoo.Core.Domain;

namespace Lemoo.Modules.YourModule.Domain.Entities;

public class YourEntity : AggregateRoot<Guid>
{
    public string Name { get; private set; }
    public string Description { get; private set; }
    public DateTime CreatedAt { get; private set; }
    
    // 私有构造函数，防止直接实例化
    private YourEntity() { }
    
    // 工厂方法
    public static YourEntity Create(string name, string description)
    {
        var entity = new YourEntity
        {
            Id = Guid.NewGuid(),
            Name = name,
            Description = description,
            CreatedAt = DateTime.UtcNow
        };
        
        // 发布领域事件
        entity.AddDomainEvent(new YourEntityCreatedEvent(entity.Id));
        
        return entity;
    }
    
    // 业务方法
    public void UpdateDescription(string description)
    {
        Description = description;
        AddDomainEvent(new YourEntityUpdatedEvent(Id));
    }
}
```

### 7.4 定义命令和查询

```csharp
// 命令
using Lemoo.Core.Abstractions.Application;

public record CreateYourEntityCommand(string Name, string Description) 
    : ICommand<Result<YourEntityDto>>;

public record UpdateYourEntityCommand(Guid Id, string Description) 
    : ICommand<Result>;

// 查询
public record GetYourEntityQuery(Guid Id) 
    : IQuery<Result<YourEntityDto>>;

public record GetAllYourEntitiesQuery(int PageIndex, int PageSize) 
    : IQuery<Result<PagedResult<YourEntityDto>>>;
```

### 7.5 实现处理器

```csharp
using Lemoo.Core.Abstractions.Application;
using MediatR;

public class CreateYourEntityCommandHandler 
    : ICommandHandler<CreateYourEntityCommand, Result<YourEntityDto>>
{
    private readonly IYourEntityRepository _repository;
    private readonly IUnitOfWork _unitOfWork;
    
    public CreateYourEntityCommandHandler(
        IYourEntityRepository repository,
        IUnitOfWork unitOfWork)
    {
        _repository = repository;
        _unitOfWork = unitOfWork;
    }
    
    public async Task<Result<YourEntityDto>> Handle(
        CreateYourEntityCommand request, 
        CancellationToken cancellationToken)
    {
        // 创建实体
        var entity = YourEntity.Create(request.Name, request.Description);
        
        // 保存到数据库
        await _repository.AddAsync(entity, cancellationToken);
        await _unitOfWork.SaveChangesAsync(cancellationToken);
        
        // 映射为DTO
        var dto = entity.Adapt<YourEntityDto>();
        
        return Result<YourEntityDto>.Success(dto);
    }
}
```

### 7.6 配置数据库上下文

```csharp
using Microsoft.EntityFrameworkCore;

public class YourModuleDbContext : DbContext
{
    public YourModuleDbContext(DbContextOptions<YourModuleDbContext> options) 
        : base(options)
    {
    }
    
    public DbSet<YourEntity> YourEntities { get; set; }
    
    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        base.OnModelCreating(modelBuilder);
        
        // 应用实体配置
        modelBuilder.ApplyConfiguration(new YourEntityConfiguration());
    }
}
```

### 7.7 配置模块

在 `appsettings.json` 中启用模块：

```json
{
  "Lemoo": {
    "Modules": {
      "Enabled": [ "YourModule" ]
    },
    "Database": {
      "ConnectionStrings": {
        "YourModule": "Server=localhost;Database=Lemoo_YourModule;..."
      }
    }
  }
}
```

### 7.8 模块依赖

如果模块依赖其他模块，在模块类中声明：

```csharp
public override IReadOnlyList<string> Dependencies => new[] { "Example" };
```

系统会自动处理依赖关系，确保依赖模块先加载。

### 7.9 模块生命周期

模块支持以下生命周期方法：

```csharp
public class YourModule : ModuleBase
{
    // 应用启动前
    public override async Task OnApplicationStartingAsync(
        IServiceProvider serviceProvider, 
        CancellationToken cancellationToken)
    {
        // 执行启动前初始化
    }
    
    // 应用启动后
    public override async Task OnApplicationStartedAsync(
        IServiceProvider serviceProvider, 
        CancellationToken cancellationToken)
    {
        // 执行启动后初始化
    }
    
    // 应用停止前
    public override async Task OnApplicationStoppingAsync(
        IServiceProvider serviceProvider, 
        CancellationToken cancellationToken)
    {
        // 执行停止前清理
    }
    
    // 应用停止后
    public override async Task OnApplicationStoppedAsync(
        IServiceProvider serviceProvider, 
        CancellationToken cancellationToken)
    {
        // 执行停止后清理
    }
}
```

---

## 8. API 使用

### 8.1 启动 API 服务

```bash
cd src/Hosts/Lemoo.Api
dotnet run
```

### 8.2 访问 Swagger UI

启动后访问：`https://localhost:5001/swagger`

### 8.3 API 端点

#### 示例模块 API

- `GET /api/examples` - 获取所有示例（支持分页）
- `GET /api/examples/{id}` - 获取指定示例
- `POST /api/examples` - 创建示例
- `PUT /api/examples/{id}` - 更新示例
- `DELETE /api/examples/{id}` - 删除示例

#### 系统 API

- `GET /health` - 健康检查
- `GET /api/metrics` - 性能指标

### 8.4 API 调用示例

#### 使用 curl

```bash
# 获取所有示例
curl -X GET "https://localhost:5001/api/examples" -H "accept: application/json"

# 创建示例
curl -X POST "https://localhost:5001/api/examples" \
  -H "accept: application/json" \
  -H "Content-Type: application/json" \
  -d "{\"name\":\"示例名称\",\"description\":\"示例描述\"}"
```

#### 使用 C# HttpClient

```csharp
using var client = new HttpClient();
client.BaseAddress = new Uri("https://localhost:5001");

// 获取所有示例
var response = await client.GetAsync("/api/examples");
var examples = await response.Content.ReadFromJsonAsync<List<ExampleDto>>();

// 创建示例
var newExample = new CreateExampleDto 
{ 
    Name = "示例名称", 
    Description = "示例描述" 
};
var createResponse = await client.PostAsJsonAsync("/api/examples", newExample);
```

---

## 9. UI 界面使用

### 9.1 启动 WPF 应用

```bash
cd src/Hosts/Lemoo.Host
dotnet run
```

### 9.2 主界面功能

- **导航面板**：左侧显示所有已加载模块的导航项
- **文档标签页**：支持多标签页显示不同页面
- **主题切换**：支持明暗主题切换（如果已实现）

### 9.3 模块 UI 开发

#### 创建模块 UI 项目

```bash
cd src/UI/Modules
dotnet new classlib -n Lemoo.Modules.YourModule.UI -f net10.0
```

#### 实现 IModuleUI 接口

```csharp
using Lemoo.Modules.Abstractions;
using Microsoft.Extensions.DependencyInjection;

namespace Lemoo.Modules.YourModule.UI;

public class YourModuleUI : IModuleUI
{
    public string ModuleName => "YourModule";
    
    public void RegisterUI(IServiceCollection services)
    {
        // 注册UI相关服务
    }
    
    public IReadOnlyList<NavigationItem> GetNavigationItems()
    {
        return new[]
        {
            new NavigationItem
            {
                PageKey = "your-module-list",
                Title = "您的模块列表",
                Icon = "ListIcon",
                Order = 1,
                IsEnabled = true
            }
        };
    }
}
```

#### 创建页面

```csharp
using System.Windows.Controls;

namespace Lemoo.Modules.YourModule.UI.Views;

public partial class YourModuleListPage : Page
{
    public YourModuleListPage()
    {
        InitializeComponent();
    }
}
```

### 9.4 主题系统

Lemoo 支持主题系统，可以在运行时切换主题：

```csharp
// 切换到暗色主题
ThemeManager.SetTheme(Theme.Dark);

// 切换到亮色主题
ThemeManager.SetTheme(Theme.Light);
```

---

## 10. 常见问题

### Q1: 如何添加新的数据库提供程序？

**A:** 在 `ModuleDbContextFactory` 中添加新的 case 分支，并安装相应的 EF Core 提供程序包：

```csharp
case "PostgreSQL":
    optionsBuilder.UseNpgsql(connectionString);
    break;
```

### Q2: 如何实现模块间的通信？

**A:** 通过领域事件或共享内核（Shared Kernel）实现模块间通信：

```csharp
// 发布领域事件
entity.AddDomainEvent(new YourEntityCreatedEvent(entity.Id));

// 在另一个模块中订阅事件
public class AnotherModuleEventHandler : IDomainEventHandler<YourEntityCreatedEvent>
{
    public async Task Handle(YourEntityCreatedEvent domainEvent, CancellationToken cancellationToken)
    {
        // 处理事件
    }
}
```

### Q3: 如何部署应用？

**A:** 使用 `dotnet publish` 发布应用：

```bash
# 发布 WPF 应用
cd src/Hosts/Lemoo.Host
dotnet publish -c Release -o ./publish

# 发布 API 服务
cd src/Hosts/Lemoo.Api
dotnet publish -c Release -o ./publish
```

### Q4: 模块加载失败怎么办？

**A:** 检查以下几点：

1. 模块程序集是否存在于配置的路径中
2. 模块依赖是否已满足
3. 数据库连接字符串是否正确配置
4. 查看日志文件获取详细错误信息

### Q5: 如何调试模块？

**A:** 

1. 在 Visual Studio 中设置启动项目为 `Lemoo.Host`
2. 在模块代码中设置断点
3. 确保模块已正确引用并启用
4. 使用调试输出查看模块加载信息

### Q6: 如何自定义日志配置？

**A:** 在 `appsettings.json` 中配置：

```json
{
  "Lemoo": {
    "Logging": {
      "Level": "Debug",
      "Seq": {
        "ServerUrl": "http://localhost:5341"
      }
    }
  }
}
```

---

## 11. 故障排除

### 11.1 应用程序无法启动

**症状：** 应用程序启动时崩溃或显示错误消息

**解决方案：**

1. 检查 `.NET 10 SDK` 是否已安装
2. 检查 `appsettings.json` 配置是否正确
3. 检查数据库连接字符串是否有效
4. 查看日志文件获取详细错误信息

### 11.2 模块未加载

**症状：** 模块未出现在导航中或功能不可用

**解决方案：**

1. 检查模块是否在 `appsettings.json` 中启用
2. 检查模块程序集是否存在于配置的路径中
3. 检查模块依赖是否已满足
4. 查看调试输出中的模块加载信息

### 11.3 数据库连接失败

**症状：** 数据库操作失败或超时

**解决方案：**

1. 检查数据库服务是否正在运行
2. 检查连接字符串是否正确
3. 检查数据库用户权限
4. 检查防火墙设置

### 11.4 API 请求失败

**症状：** API 调用返回错误或超时

**解决方案：**

1. 检查 API 服务是否正在运行
2. 检查 API 基础 URL 配置是否正确
3. 检查网络连接
4. 查看 API 日志获取详细错误信息

### 11.5 UI 界面显示异常

**症状：** UI 界面显示不正确或控件不可见

**解决方案：**

1. 检查 XAML 文件是否正确
2. 检查资源文件是否已正确加载
3. 检查主题文件是否存在
4. 查看控制台输出获取错误信息

---

## 12. 参考资源

### 12.1 项目文档

- [架构文档](./architecture.md) - 详细的架构说明
- [快速开始指南](./getting-started.md) - 快速上手指南
- [模块开发指南](./modules.md) - 如何开发新模块
- [项目分析文档](./项目分析project-analysis.md) - 项目全面分析

### 12.2 外部资源

- [.NET 10 文档](https://learn.microsoft.com/dotnet/)
- [EF Core 文档](https://learn.microsoft.com/ef/core/)
- [MediatR 文档](https://github.com/jbogard/MediatR)
- [FluentValidation 文档](https://docs.fluentvalidation.net/)
- [WPF 文档](https://learn.microsoft.com/dotnet/desktop/wpf/)
- [CommunityToolkit.Mvvm 文档](https://learn.microsoft.com/dotnet/communitytoolkit/mvvm/)

### 12.3 技术支持

如有问题或建议，请：

1. 查看项目文档
2. 检查 GitHub Issues
3. 提交新的 Issue
4. 联系项目维护者

---

## 附录

### A. 配置文件完整示例

见 [配置说明](#6-配置说明) 章节。

### B. 模块开发模板

见 [模块开发指南](#7-模块开发指南) 章节。

### C. 命令参考

```bash
# 还原依赖
dotnet restore

# 构建项目
dotnet build

# 运行应用
dotnet run

# 运行测试
dotnet test

# 发布应用
dotnet publish -c Release

# 清理生成文件
dotnet clean
```

---

**文档版本：** 1.0.0  
**最后更新：** 2025年1月  
**维护者：** Lemoo 开发团队
